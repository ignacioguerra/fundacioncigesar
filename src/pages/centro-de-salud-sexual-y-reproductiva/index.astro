---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import WaveSvg from '../../components/graphics/WaveSvg.astro';
import HeroImage from '../../components/blocks/HeroImage.astro';
import ScrollContext from '../../components/snippets/ScrollContext.astro';
import PageTitle from '../../components/blocks/PageTitle.astro';
import YoutubePlayer from '../../components/blocks/YoutubePlayer.astro';
import IconGallery from '../../components/icons/IconGallery.astro';
import IconQuote from '../../components/icons/IconQuote.astro';
import LinkButton from '../../components/snippets/LinkButton.astro';
import MiniCollage from '../../components/snippets/MiniCollage.astro';
import ServiceCard from '../../components/snippets/ServiceCard.astro';
import InnerMenu from '../../components/InnerMenu.astro';
import { cissyrMenu } from "../../constants/pages";
import WhatsappBubble from '../../components/WhatsappBubble.astro';
---

<Layout title="Centro Integral de salud sexual y reproductiva – Fundación Cigesar">
	<Header />
	<main class="page">
		<header>
			<HeroImage src="/img/centro-de-salud-sexual-y-reproductiva/header.jpg" size="small">
				<WaveSvg />
			</HeroImage>
			<PageTitle title="Centro Integral de Salud Sexual y Reproductiva" />
			<div class="container">
				<InnerMenu menu={cissyrMenu} />
			</div>
		</header>
		<section class="light -no-gap">
			<div class="container">
				<div class="youtube-video-modal">
					<div class="youtube-video-modal__container">
						<YoutubePlayer videoId="Hhqbl27MgR8" poster="/img/centro-de-salud-sexual-y-reproductiva/video-poster.jpg"  width={560} height={315} />
					</div>
				</div>
			</div>
		</section>
		<section class="light no-gap">
			<ScrollContext>
				<div class="big-text --sc-map-position">
					<div class="container">
						<div class="big-text__content">
							<p>"Garantizar el acceso a los derechos sexuales y reproductivos, focalizando en la autonomía de las mujeres y diversidades sexuales sobre sus propias decisiones."</p>
						</div>
					</div>
				</div>
			</ScrollContext>
		</section>
		<section class="-light -no-gap">
			<div class="container">
				<div class="image-with-text">
					<div class="image-with-text__image">
						<MiniCollage
							bigImageUrl="/img/centro-de-salud-sexual-y-reproductiva/capacitaciones-01.jpg"
							smallImageUrl="/img/centro-de-salud-sexual-y-reproductiva/capacitaciones-02.jpg" 
						/>
					</div>
					<div class="image-with-text__text">
						<h2>Capacitaciones y Campañas de salud</h2>
						<div class="image-with-text__text__link">
							<LinkButton style="link" text="Ver galería" href="/centro-de-salud-sexual-y-reproductiva/capacitaciones"><IconGallery /></LinkButton>
						</div>
					</div>
				</div>
			</div>
		</section>
		<section class="light">
			<div class="container">
				<h2 class="cards__title">Todo lo que necesitás saber sobre...</h2>
				<div class="cards">
					<ServiceCard
						title="IVE"
						description="Interrupción voluntaria del embarazo"
						linkUrl="/ive/"
					/>
					<ServiceCard
						title="MAC"
						description="Métodos anticonceptivos"
						linkUrl="/metodos-anticonceptivos/"
					/>
				</div>
			</div>
		</section>
		<section class="">
			<div class="container">
				<ScrollContext>
					<div class="testimonial">
						<h2>Testimonios</h2>
						<blockquote>
							<div class="testimonial__content sc-map-position">
								<div class="testimonial__icon sc-map-position">
									<IconQuote />
								</div>
								<p>Los médicos y las orientadoras fueron súper amorosos, me sentí muy acompañada y cómoda.</p>
							</div>
						</blockquote>
						<p class="testimonial__who">Paciente del Centro integral de salud sexual y reproductiva</p>
					</div>
				</ScrollContext>
			</div>
		</section>
	</main>
	<Footer />
	<WhatsappBubble phoneNumber="5491161874697" />
</Layout>

<style>
	:root {
		--page-primary-color: var(--accent-color-1);
		--page-contrasting-color: var(--white);
	}

	.testimonial {
		h2 {
			font-size: 1.25rem;
			font-weight: var(--font-weight-medium);
			margin: 0 auto 0.5rem;
			padding: 0 1rem;
			max-width: 980px;
		}

		&__content {
			--sc-map-position-from: 1rem;
			--sc-map-position-to: -2rem;
			transform: translate3d(0,var(--sc-new-position),0);
		}

		&__icon {
			font-size: 3rem;
			margin-bottom: 0.5rem;
			--sc-map-position-from: -1rem;
			--sc-map-position-to: 1rem;
			transform: translate3d(0,var(--sc-new-position),0);
		}

		&__who {
			text-align: center;
			font-style: italic;
			font-size: 1.125rem;
			margin: -1rem auto 2rem;
			padding: 0 2rem;
			background-color: var(--gray-100);
			width: fit-content;

			@media screen and (max-width: 767px) {
				margin: -1rem 2.5em;
   				padding: 0 1rem;
			}
			@media screen and (max-width: 575px) {
				margin: -1rem 2.5em;
   				padding: 0 1rem;
			}
		}

		blockquote {
			font-size: 1.75rem;
			font-weight: var(--font-weight-light);
			text-wrap: balance;
			text-align: center;
			padding: 6rem 4rem 8rem;
			margin: 0 auto;
			max-width: 980px;
			border: 1px solid var(--gray-400);
			border-radius: 8px;

			@media screen and (max-width: 767px) {
				font-size: 1.4375rem;
				padding: 4rem 1.5rem 6rem;
			}

			p {
				margin: 0;
			}
		}
	}

	.cards {
		display: flex;
		gap: 3rem;

		@media screen and (max-width: 767px){
			gap: 1rem;
			flex-direction: column;
		}

		&__title {
			font-size: 2rem;
			margin: 0 0 2rem;

			@media screen and (max-width: 767px){
				font-size: 1.75rem;
	   			line-height: 1.35;
			}
		}
	}
	

	.image-with-text {
		display: flex;
		padding: 2rem 0 3rem;

		padding-left: 2rem;

		@media screen and (max-width: 767px){
			flex-direction: column-reverse;
			padding: 1rem 0 3rem;
		}

		&__image {
			flex: 5;
		}
		&__text {
			flex: 4;
			position: relative;
			
			h2 {
				font-size: 2.75rem;
				line-height: 1.125;
				text-wrap: balance;
				margin: 6rem 0 0;

				@media screen and (max-width: 1199px) and (min-width: 768px){
					font-size: 2.5rem;
					padding-left: 2rem;
				}

				@media screen and (max-width: 767px){
					margin: 2rem 0 1rem 0;
					font-size: 2.25rem;
				}
			}

			&__link {
				position: absolute;
				top: 50%;
				left: 3rem;
				display: flex;

				@media screen and (max-width: 1199px) and (min-width: 768px){
					top: 60%;
   					left: 1rem;
				}
				

				@media screen and (max-width: 767px){
					position: relative;
					top: unset;
					left: unset;
					margin-bottom: 3rem;
					margin-left: -.75rem;
				}
			}
		}
	}
	
	.big-text {
		background-color: var(--page-primary-color);
		padding: 3rem 0;

		--sc-map-position-from: 3rem;
		--sc-map-position-to: -3rem;
		transform: translate3d(0,var(--sc-new-position),0);

		&__content {
			font-size: 2rem;
			max-width: 900px;
			margin: 0 auto;
			text-wrap: balance;
			text-align: center;
			font-weight: var(--font-weight-medium);
			color: var(--white);
			
			@media screen and (max-width: 1199px) {
				font-size: 1.75rem;
				line-height: 1.4;
			}
			@media screen and (max-width: 767px) {
				font-size: 1.5rem;
				line-height: 1.3;
			}
			
		}
	}

	.press-articles {
		display: flex;
		flex-direction: column;
		gap: 6rem;
		margin-bottom: 4rem;
	}

	section {
		padding: 4rem 0;
		background-color: var(--gray-100);

		&.light {
			background-color: var(--white);
		}

		&.no-gap {
			padding: 0;
		}

		&.overlap {
			margin-top: -200px;
			padding-top: 200px;
		}
	}
</style>
